<!--<!DOCTYPE html>-->
<!--<html lang="zh">-->
<!--<head>-->
<!--  <meta charset="UTF-8">-->
<!--  <title>中美贸易战新闻情感河流图</title>-->
<!--  <script src="https://cdn.jsdelivr.net/npm/echarts/dist/echarts.min.js"></script>-->
<!--  <style>-->
<!--    #main {-->
<!--      width: 100%;-->
<!--      height: 600px;-->
<!--      max-width: 1200px;-->
<!--      margin: 40px auto;-->
<!--      box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);-->
<!--      border-radius: 12px;-->
<!--    }-->
<!--    body {-->
<!--      background: #f4f7fa;-->
<!--      font-family: "Arial", sans-serif;-->
<!--    }-->
<!--  </style>-->
<!--</head>-->
<!--<body>-->
<!--  <h2 style="text-align:center">中美贸易战新闻报道中的情感演变</h2>-->
<!--  <div id="main"></div>-->

<!--  <script>-->
<!--    // 初始化 ECharts 实例-->
<!--    var chart = echarts.init(document.getElementById('main'));-->

<!--    // 异步加载数据-->
<!--    fetch('emotion_stream_data.json')-->
<!--      .then(res => res.json())-->
<!--      .then(json => {-->
<!--        chart.setOption({-->
<!--          tooltip: {-->
<!--            trigger: 'axis',-->
<!--            axisPointer: {-->
<!--              type: 'cross',-->
<!--              label: {-->
<!--                backgroundColor: '#6a7985'-->
<!--              }-->
<!--            }-->
<!--          },-->
<!--          legend: {-->
<!--            top: '5%',-->
<!--            data: json.data.map(s => s.name)-->
<!--          },-->
<!--          toolbox: {-->
<!--            feature: {-->
<!--              saveAsImage: {}-->
<!--            }-->
<!--          },-->
<!--          grid: {-->
<!--            left: '3%',-->
<!--            right: '4%',-->
<!--            bottom: '3%',-->
<!--            containLabel: true-->
<!--          },-->
<!--          xAxis: [{-->
<!--            type: 'category',-->
<!--            boundaryGap: false,-->
<!--            data: json.timeline-->
<!--          }],-->
<!--          yAxis: [{-->
<!--            type: 'value'-->
<!--          }],-->
<!--          series: json.data-->
<!--        });-->
<!--      });-->
<!--  </script>-->
<!--</body>-->
<!--</html>-->
<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>中美贸易战新闻情绪河流图</title>
  <script src="https://cdn.jsdelivr.net/npm/echarts/dist/echarts.min.js"></script>
  <style>
    body {
      background-color: #f4f7fa;
      font-family: "Arial", sans-serif;
    }

    #main {
      width: 100%;
      max-width: 1200px;
      height: 600px;
      margin: 40px auto;
      box-shadow: 0 0 20px rgba(0, 255, 255, 0.2);
      border-radius: 12px;
      background-color: #fff;
    }

    h2 {
      text-align: center;
      color: #333;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <h2>中美贸易战新闻报道中的情感演变（2025年1月至5月）</h2>
  <div id="main"></div>

  <script>
    // 初始化图表实例
    var chart = echarts.init(document.getElementById('main'));

    // 加载 JSON 数据
    fetch('emotion_stream_data.json')
      .then(res => res.json())
      .then(json => {
        chart.setOption({
          tooltip: {
            trigger: 'axis',
            axisPointer: {
              type: 'cross',
              label: {
                backgroundColor: '#6a7985'
              }
            }
          },
          legend: {
            top: '5%',
            data: json.data.map(s => s.name)
          },
          toolbox: {
            feature: {
              saveAsImage: {}
            }
          },
          grid: {
            left: '3%',
            right: '4%',
            bottom: '3%',
            containLabel: true
          },
          xAxis: [{
            type: 'category',
            boundaryGap: false,
            data: json.timeline,
            axisLabel: {
              formatter: function (value, index) {
                return json.xLabels[index] || '';  // 只显示指定的日期标签
              },
              interval: 0,
              rotate: 45
            }
          }],
          yAxis: [{
            type: 'value',
            name: '新闻数量'
          }],
          series: json.data
        });
      })
      .catch(err => {
        console.error("❌ 加载 JSON 数据失败:", err);
      });
  </script>
</body>
</html>

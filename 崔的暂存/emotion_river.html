<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>中美贸易战新闻情感河流图</title>
  <script src="https://cdn.jsdelivr.net/npm/echarts/dist/echarts.min.js"></script>
  <style>
    #main {
      width: 100%;
      height: 600px;
      max-width: 1200px;
      margin: 40px auto;
      box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
      border-radius: 12px;
    }
    body {
      background: #f4f7fa;
      font-family: "Arial", sans-serif;
    }
  </style>
</head>
<body>
  <h2 style="text-align:center">中美贸易战新闻报道中的情感演变</h2>
  <div id="main"></div>

  <script>
    // 初始化 ECharts 实例
    var chart = echarts.init(document.getElementById('main'));

    // 异步加载数据
    fetch('emotion_stream_data.json')
      .then(res => res.json())
      .then(json => {
        chart.setOption({
          tooltip: {
            trigger: 'axis',
            axisPointer: {
              type: 'cross',
              label: {
                backgroundColor: '#6a7985'
              }
            }
          },
          legend: {
            top: '5%',
            data: json.data.map(s => s.name)
          },
          toolbox: {
            feature: {
              saveAsImage: {}
            }
          },
          grid: {
            left: '3%',
            right: '4%',
            bottom: '3%',
            containLabel: true
          },
          xAxis: [{
            type: 'category',
            boundaryGap: false,
            data: json.timeline
          }],
          yAxis: [{
            type: 'value'
          }],
          series: json.data
        });
      });
  </script>
</body>
</html>
